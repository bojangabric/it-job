generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

enum Role {
    KANDIDAT
    POSLODAVAC
    MODERATOR
}

enum EmploymentType {
    PRAKSA
    PART_TIME
    FULL_TIME
    CONTRACT
}

enum Experience {
    STUDENT
    JUNIOR
    MID_LEVEL
    SENIOR
    LEAD
}

enum Position {
    FRONT_END_DEVELOPER
    BACK_END_DEVELOPER
    FULL_STACK_DEVELOPER
    UI_UX_DESIGNER
    SYSTEM_ADMINISTRATOR
}

model User {
    id           String    @id @default(cuid())
    name         String?
    email        String    @unique
    password     String
    location     String?
    role         Role
    image        String    @default("/images/default_avatar.png")
    postedJobs   JobPost[] @relation("postedJobs")
    favoriteJobs JobPost[] @relation("favoriteJobs")
    appliedJobs  JobPost[] @relation("appliedJobs")
}

model JobPost {
    id           String         @id @default(cuid())
    active       Boolean
    title        String
    description  String
    skills       String[]
    experience   Experience
    position     Position
    type         EmploymentType
    postedById   String
    postedBy     User           @relation("postedJobs", fields: [postedById], references: [id])
    favoriteJobs User[]         @relation("favoriteJobs")
    appliedJobs  User[]         @relation("appliedJobs")

    @@map("jobPosts")
}
