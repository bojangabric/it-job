// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    // NOTE: When using postgresql, mysql or sqlserver, uncomment the @db.Text annotations in model Account below
    // Further reading:
    // https://next-auth.js.org/adapters/prisma#create-the-prisma-schema
    // https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#string
    url      = env("DATABASE_URL")
}

enum Role {
    KANDIDAT
    POSLODAVAC
    MODERATOR
}

enum EmploymentType {
    PRAKSA
    PART_TIME
    FULL_TIME
    CONTRACT
}

enum Experience {
    STUDENT
    JUNIOR
    MID_LEVEL
    SENIOR
    LEAD
}

enum Position {
    FRONT_END_DEVELOPER
    BACK_END_DEVELOPER
    FULL_STACK_DEVELOPER
    UI_UX_DESIGNER
    SYSTEM_ADMINISTRATOR
}

model User {
    id           String    @id @default(cuid())
    name         String?
    email        String    @unique
    password     String
    location     String?
    role         Role
    image        String    @default("/images/default_avatar.png")
    postedJobs   JobPost[] @relation("postedJobs")
    favoriteJobs JobPost[] @relation("favoriteJobs")
}

model JobPost {
    id           String         @id @default(cuid())
    active       Boolean
    title        String
    description  String
    skills       String[]
    experience   Experience
    position     Position
    type         EmploymentType
    postedById   String
    postedBy     User           @relation("postedJobs", fields: [postedById], references: [id])
    favoriteJobs User[]         @relation("favoriteJobs")

    @@map("jobPosts")
}
